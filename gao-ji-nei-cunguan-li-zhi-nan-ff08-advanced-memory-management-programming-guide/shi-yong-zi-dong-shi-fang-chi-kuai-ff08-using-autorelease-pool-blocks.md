# 使用自动释放池块（Using Autorelease Pool Blocks）

自动释放池块提供了一个机制，因此你可以释放一个对象的所有权，但是避免其被立刻解除分配的可能性（例如当你从一个方法返回对象）。通常，你不需要创建自己的自动释放池，但是有些情况你必须这样做或者这样做是有益的。

## 关于自动释放池块

一个自动释放池块使用@autorelease标记，像下面例子描述的一样：

```
 @autoreleasepool {
    // Code that creates autoreleased objects.
}
```

自动释放池块结束的时候，块内收到自动释放消息的对象会收到一个释放消息，在块内对象每次收到收到自动释放消息都会收到释放消息。

像其他代码块一样，自动释放池块也可以嵌套：

```
@autoreleasepool {
    // . . .
    @autoreleasepool {
        // . . .
    }
    . . .
}
```



## 使用本地自动释放池块来降低峰值内存占用

## 自动释放池块和线程



